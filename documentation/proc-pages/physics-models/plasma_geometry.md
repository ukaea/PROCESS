# Plasma Geometry | `PlasmaGeom`

The control of the plasma shaping is done by the `PlasmaGeom` class in `plasma_geometry.py`

The plasma geometric major radius $R_0$ (`rmajor`) and aspect ratio $A$ (`aspect`) 
define the size of the plasma torus. The plasma minor radius $a$ (`rminor`) is 
calculated from these values. The inverse aspect ratio is given by, $\epsilon$ (`eps`) = $1/A$ .

The shape of the plasma cross-section is given by the
elongation of the last closed flux surface (LCFS) $\kappa$ (`kappa`) and the triangularity of the LCFS 
$\delta$ (`triang`), which can be scaled automatically with the aspect ratio if 
required using certain switch conditions of `i_plasma_geometry`:

The setting of the `i_plasma_shape` switch determines what type of plasma shaping formula to use. 

  - `i_plasma_shape = 0`: Default PROCESS plasma shape is used which models the plasma as 2-intersecting arcs (DEFAULT).
  - `i_plasma_shape = 1`: The Sauter geometry is used which includes the squareness $(\xi)$ parameter.

The different parameterisations of the plasma shape can be experimented with in the plot below.

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bokeh Plot</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.6.0.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="c9e38487-bf16-4c9d-90c7-9c5a508c4d3c" data-root-id="p1105" style="display: contents;"></div>
  
  <script type="application/json" id="b9ce083e-a2df-40cd-9d30-ce5a61647c2f">
    {"bd56dfcd-97e8-4158-af59-e9cb18410aad":{"version":"3.6.0","title":"Bokeh Application","roots":[{"type":"object","name":"Row","id":"p1105","attributes":{"children":[{"type":"object","name":"Figure","id":"p1009","attributes":{"width":400,"height":400,"x_range":{"type":"object","name":"Range1d","id":"p1019","attributes":{"start":-10,"end":10}},"y_range":{"type":"object","name":"Range1d","id":"p1020","attributes":{"start":-10,"end":10}},"x_scale":{"type":"object","name":"LinearScale","id":"p1021"},"y_scale":{"type":"object","name":"LinearScale","id":"p1022"},"title":{"type":"object","name":"Title","id":"p1012","attributes":{"text":"Plasma Shape"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1052","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1006","attributes":{"selected":{"type":"object","name":"Selection","id":"p1007","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1008"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["y",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["x_mirror",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["y_mirror",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["x1",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["x2",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["x1_mirror",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["y1_mirror",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["x2_mirror",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["y2_mirror",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}],["linspace",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[256],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1053","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1054"}}},"glyph":{"type":"object","name":"Line","id":"p1049","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"#1f77b4","line_alpha":0.6,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1050","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1051","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":3}}}},{"type":"object","name":"GlyphRenderer","id":"p1063","attributes":{"data_source":{"id":"p1006"},"view":{"type":"object","name":"CDSView","id":"p1064","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1065"}}},"glyph":{"type":"object","name":"Line","id":"p1060","attributes":{"x":{"type":"field","field":"x_mirror"},"y":{"type":"field","field":"y_mirror"},"line_color":"#1f77b4","line_alpha":0.6,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1061","attributes":{"x":{"type":"field","field":"x_mirror"},"y":{"type":"field","field":"y_mirror"},"line_color":"#1f77b4","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1062","attributes":{"x":{"type":"field","field":"x_mirror"},"y":{"type":"field","field":"y_mirror"},"line_color":"#1f77b4","line_alpha":0.2,"line_width":3}}}},{"type":"object","name":"GlyphRenderer","id":"p1072","attributes":{"data_source":{"id":"p1006"},"view":{"type":"object","name":"CDSView","id":"p1073","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1074"}}},"glyph":{"type":"object","name":"Line","id":"p1069","attributes":{"x":{"type":"field","field":"x1"},"y":{"type":"field","field":"y1"},"line_color":"red","line_alpha":0.6,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1070","attributes":{"x":{"type":"field","field":"x1"},"y":{"type":"field","field":"y1"},"line_color":"red","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1071","attributes":{"x":{"type":"field","field":"x1"},"y":{"type":"field","field":"y1"},"line_color":"red","line_alpha":0.2,"line_width":3}}}},{"type":"object","name":"GlyphRenderer","id":"p1082","attributes":{"data_source":{"id":"p1006"},"view":{"type":"object","name":"CDSView","id":"p1083","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1084"}}},"glyph":{"type":"object","name":"Line","id":"p1079","attributes":{"x":{"type":"field","field":"x1_mirror"},"y":{"type":"field","field":"y1_mirror"},"line_color":"red","line_alpha":0.6,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1080","attributes":{"x":{"type":"field","field":"x1_mirror"},"y":{"type":"field","field":"y1_mirror"},"line_color":"red","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1081","attributes":{"x":{"type":"field","field":"x1_mirror"},"y":{"type":"field","field":"y1_mirror"},"line_color":"red","line_alpha":0.2,"line_width":3}}}},{"type":"object","name":"GlyphRenderer","id":"p1091","attributes":{"data_source":{"id":"p1006"},"view":{"type":"object","name":"CDSView","id":"p1092","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1093"}}},"glyph":{"type":"object","name":"Line","id":"p1088","attributes":{"x":{"type":"field","field":"x2"},"y":{"type":"field","field":"y2"},"line_color":"red","line_alpha":0.6,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1089","attributes":{"x":{"type":"field","field":"x2"},"y":{"type":"field","field":"y2"},"line_color":"red","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1090","attributes":{"x":{"type":"field","field":"x2"},"y":{"type":"field","field":"y2"},"line_color":"red","line_alpha":0.2,"line_width":3}}}},{"type":"object","name":"GlyphRenderer","id":"p1100","attributes":{"data_source":{"id":"p1006"},"view":{"type":"object","name":"CDSView","id":"p1101","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1102"}}},"glyph":{"type":"object","name":"Line","id":"p1097","attributes":{"x":{"type":"field","field":"x2_mirror"},"y":{"type":"field","field":"y2_mirror"},"line_color":"red","line_alpha":0.6,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1098","attributes":{"x":{"type":"field","field":"x2_mirror"},"y":{"type":"field","field":"y2_mirror"},"line_color":"red","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1099","attributes":{"x":{"type":"field","field":"x2_mirror"},"y":{"type":"field","field":"y2_mirror"},"line_color":"red","line_alpha":0.2,"line_width":3}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1018","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1033"},{"type":"object","name":"WheelZoomTool","id":"p1034","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1035","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1036","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1042","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1041","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"SaveTool","id":"p1043"},{"type":"object","name":"ResetTool","id":"p1044"},{"type":"object","name":"HelpTool","id":"p1045"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1028","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1029","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1030"},"axis_label":"Height","major_label_policy":{"type":"object","name":"AllLabels","id":"p1031"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1023","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1024","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1025"},"axis_label":"Radius","major_label_policy":{"type":"object","name":"AllLabels","id":"p1026"}}}],"center":[{"type":"object","name":"Grid","id":"p1027","attributes":{"axis":{"id":"p1023"}}},{"type":"object","name":"Grid","id":"p1032","attributes":{"dimension":1,"axis":{"id":"p1028"}}},{"type":"object","name":"Legend","id":"p1055","attributes":{"location":"top_left","items":[{"type":"object","name":"LegendItem","id":"p1056","attributes":{"label":{"type":"value","value":"Sauter"},"renderers":[{"id":"p1052"}]}},{"type":"object","name":"LegendItem","id":"p1075","attributes":{"label":{"type":"value","value":"PROCESS"},"renderers":[{"id":"p1072"}]}}]}}]}},{"type":"object","name":"Column","id":"p1104","attributes":{"children":[{"type":"object","name":"Slider","id":"p1002","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1103","attributes":{"args":{"type":"map","entries":[["source",{"id":"p1006"}],["r0",{"id":"p1002"}],["a",{"type":"object","name":"Slider","id":"p1003","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1103"}]]]},"title":"Minor radius","start":0.01,"end":10,"value":3.0,"step":0.01}}],["delta",{"type":"object","name":"Slider","id":"p1004","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1103"}]]]},"title":"Triangularity | delta","start":0.0,"end":1,"value":0.5,"step":0.01}}],["kappa",{"type":"object","name":"Slider","id":"p1005","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1103"}]]]},"title":"Elongation | kappa","start":0.0,"end":10,"value":2.0,"step":0.01}}],["square",{"type":"object","name":"Slider","id":"p1001","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1103"}]]]},"title":"Squareness","start":-1.0,"end":1.0,"value":0.0,"step":0.01}}]]},"code":"\n    const A = r0.value;\n    const B = a.value;\n    const D = delta.value;\n    const K = kappa.value;\n    const S = square.value;\n    const x = source.data['linspace'];\n    const R = source.data['x'];\n    const Z = source.data['y'];\n    const R_mirror = source.data['x_mirror'];\n    const Z_mirror = source.data['y_mirror'];\n    const x1 = (2.0 * A * (1.0 + D) - B * (D**2 + K**2 - 1.0)) / (2.0 * (1.0 + D));\n    const x2 = (2.0 * A * (D - 1.0) - B * (D**2 + K**2 - 1.0)) / (2.0 * (D - 1.0));\n    const r1 = 0.5 * Math.sqrt((B**2 * ((D + 1.0) ** 2 + K**2) ** 2) / ((D + 1.0) ** 2));\n    const r2 = 0.5 * Math.sqrt((B**2 * ((D - 1.0) ** 2 + K**2) ** 2) / ((D - 1.0) ** 2));\n    const theta1 = Math.asin((K * B) / r1);\n    const theta2 = Math.asin((K * B) / r2);\n    const inang = 1.0 / r1;\n    const outang = 1.5 / r2;\n    const angs1 = Array.from({length: 256}, (_, i) =&gt; -theta1 + Math.PI + i * ((inang + 2*theta1) / 255));\n    const angs2 = Array.from({length: 256}, (_, i) =&gt; -(outang + theta2) + i * ((theta2 + (outang + theta2)) / 255));\n    const xs1 = source.data['x1'];\n    const ys1 = source.data['y1'];\n    const xs2 = source.data['x2'];\n    const ys2 = source.data['y2'];\n    const xs1_mirror = source.data['x1_mirror'];\n    const ys1_mirror = source.data['y1_mirror'];\n    const xs2_mirror = source.data['x2_mirror'];\n    const ys2_mirror = source.data['y2_mirror'];\n    for (let i = 0; i &lt; x.length; i++) {\n        R[i] = A + B * Math.cos(x[i] + D * Math.sin(x[i]) - S * Math.sin(2 * x[i]));\n        Z[i] = K * B * Math.sin(x[i] + S * Math.sin(2 * x[i]));\n        R_mirror[i] = -R[i];\n        Z_mirror[i] = Z[i];\n        xs1[i] = -(r1 * Math.cos(angs1[i]) - x1);\n        ys1[i] = r1 * Math.sin(angs1[i]);\n        xs2[i] = -(r2 * Math.cos(angs2[i]) - x2);\n        ys2[i] = r2 * Math.sin(angs2[i]);\n        xs1_mirror[i] = -xs1[i];\n        ys1_mirror[i] = ys1[i];\n        xs2_mirror[i] = -xs2[i];\n        ys2_mirror[i] = ys2[i];\n    }\n    source.change.emit();\n"}}]]]},"title":"Major radius","start":0.1,"end":10,"value":5.0,"step":0.1}},{"id":"p1003"},{"id":"p1004"},{"id":"p1005"},{"id":"p1001"}]}}]}}]}}
  </script>
  <script type="text/javascript">
    (function() {
      const fn = function() {
        Bokeh.safely(function() {
          (function(root) {
            function embed_document(root) {
            const docs_json = document.getElementById('b9ce083e-a2df-40cd-9d30-ce5a61647c2f').textContent;
            const render_items = [{"docid":"bd56dfcd-97e8-4158-af59-e9cb18410aad","roots":{"p1105":"c9e38487-bf16-4c9d-90c7-9c5a508c4d3c"},"root_ids":["p1105"]}];
            root.Bokeh.embed.embed_items(docs_json, render_items);
            }
            if (root.Bokeh !== undefined) {
              embed_document(root);
            } else {
              let attempts = 0;
              const timer = setInterval(function(root) {
                if (root.Bokeh !== undefined) {
                  clearInterval(timer);
                  embed_document(root);
                } else {
                  attempts++;
                  if (attempts > 100) {
                    clearInterval(timer);
                    console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                  }
                }
              }, 10, root)
            }
          })(window);
        });
      };
      if (document.readyState != "loading") fn();
      else document.addEventListener("DOMContentLoaded", fn);
    })();
  </script>
  </body>
</html>

---------------------

## Plasma Geometry Parameters | `plasma_geometry()`

This subroutine calculates the plasma geometry parameters based on the given input values.
The plasma geometry parameters include the shaping terms, plasma aspect ratio, elongation, and triangularity.
The function uses various scaling laws and formulas to calculate these parameters based on the specified shape type.

If the classic PROCESS plasma shape is used (`i_plasma_shape = 0`) the plasma surface area, cross-sectional area and volume are calculated using
formulations that approximate the LCFS as a revolution of two arcs which
intersect the plasma X-points and the plasma midplane outer and inner
radii. (This is a reasonable assumption for double-null diverted plasmas, but
will be inaccurate for single-null plasmas, `i_single_null = 1`)

### Elongation & Triangularity 

----

- `i_plasma_geometry = 0` -- `kappa` and `triang` **must** be input.  The elongation and triangularity of the 95% 
    flux surface are calculated as follows, based on the 1989 ITER guidelines [^1]:
  $$
   \kappa_{95} = \kappa / 1.12
  $$
  $$
   \delta_{95} = \delta / 1.5
  $$

----

- `i_plasma_geometry = 1` -- `kappa` and `triang` **must not** be input.  They are calculated by the following equations, 
  which estimate the largest elongation and triangularity achievable for 
  low aspect ratio machines based on the STAR code[^2]:

  $$
  \kappa = 2.05 \, \left(1 + 0.44 \, \epsilon^{2.1}\right)
  $$

  $$
  \delta = 0.53 \, \left(1 + 0.77 \, \epsilon^3\right)
  $$

  The lower limit for the edge safety factor `q95_min` is also set here
  $$
  q_{\text{lim}} = 3 \, \left(1 + 2.6 \, \epsilon^{2.8}\right)
  $$

  The values for the plasma shaping parameters at the 95% flux surface are calculated using a fit 
  to a family of equilibria calculated using the FIESTA code, equivalent to that used in `i_plasma_geometry = 8`.

  $$
   \kappa_{95} = \frac{(\kappa - 0.39467)}{0.90698}
  $$

  $$
   \delta_{95} = \frac{(\delta - 0.048306)}{1.3799}
  $$

----

- `i_plasma_geometry = 2` -- The Zohm ITER scaling [^3] is used to calculate the elongation, where input variable `fkzohm` $= F_{kz}$ may be used to adjust the scaling, while the input 
  value of the triangularity is used unchanged

  $$
  \kappa = F_{kz} \, \times \, \mathrm{minimum} \left( 2.0, \, \, 1.5 + \frac{0.5}{A-1} \right)
  $$

  The elongation and triangularity of the 95% flux surface are calculated as follows, based on the 1989 ITER guidelines [^1]:

  $$
   \kappa_{95} = \kappa / 1.12
  $$
  $$
   \delta_{95} = \delta / 1.5
  $$

---------------------------------------------------------------------
- `i_plasma_geometry = 3` -- The Zohm ITER scaling[^3] is used to calculate the elongation (as for `i_plasma_geometry = 2` 
  above), but the triangularity at the 95% flux surface is input via variable `triang95`, and the 
  LCFS triangularity `triang` is calculated from it, rather than the other way round.
---------------------------------------------------------------------  
- `i_plasma_geometry = 4` -- The 95% flux surface values `kappa95` and `triang95` are both used as inputs, 
  and the LCFS values are calculated from them by inverting the equations given above 
  for `i_plasma_geometry = 0`.
---------------------------------------------------------------------
- `i_plasma_geometry = 5` -- The 95% flux surface values `kappa95` and `triang95` are both used as inputs and 
  the LCFS values are calculated from a fit to MAST data:

  $$
  \kappa = 0.913 \, \kappa_{95} + 0.38654
  $$

  $$
  \delta = 0.77394 \, \delta_{95} + 0.18515 
  $$
---------------------------------------------------------------------
- `i_plasma_geometry = 6` -- The input values for `kappa` and `triang` are used directly and the 95% flux 
  surface values are calculated using the MAST scaling from `i_plasma_geometry = 5`.
---------------------------------------------------------------------
- `i_plasma_geometry = 7` -- The 95% flux surface values `kappa95` and `triang95` are both used as inputs and 
  the LCFS values are calculated from a fit to FIESTA runs:

  $$
  \kappa = 0.90698 \, \kappa_{95} + 0.39467
  $$

  $$
  \delta = 1.3799 \, \delta_{95} + 0.048306 
  $$
---------------------------------------------------------------------
- `i_plasma_geometry = 8` -- The input values for `kappa` and `triang` are used directly and the 95% flux 
  surface values are calculated using the FIESTA fit from `i_plasma_geometry = 7`.
---------------------------------------------------------------------
- `i_plasma_geometry = 9` -- The input values for `triang` and `rli` are used, `kappa` and the 95% flux 
  surface values are calculated.

  $$
   \kappa = \left(\left(1.09+\frac{0.26}{l_i}\right)\left(\frac{1.5}{A}\right)^{0.4}\right)
  $$

  Where $l_i$ is the plasma normalised internal inductance.

  The elongation and triangularity of the 95% flux surface are calculated as follows, based on the 1989 ITER guidelines [^1]:

  $$
   \kappa_{95} = \kappa / 1.12
  $$
  $$
   \delta_{95} = \delta / 1.5
  $$
---------------------------------------------------------------------
- `i_plasma_geometry = 10` -- The input values for  `triang` are used directly to calculate 95% flux surface values. `kappa` is calculated to a fit from CREATE data for  a EU-DEMO type machine with aspect ratios of ($2.6\le A \le 3.6$). Coefficient values are rounded to 2 decimal places

  $$
  \kappa_{95} = \frac{(18.84 -(0.87 \times A)) - \sqrt{4.84A^2 -28.77 A+52.52+14.74 \times  m_{\text{s,limit}}}}{2a}
  $$
Where $m_{\text{s,limit}}$ is the inputted vertical stablity margin limit (default = 0.3)
  

If $\kappa_{95}>1.77$ then its value is adjusted:

$$
\kappa_{95} =  \kappa_{95}^{\frac{1.77}{\kappa_{95}}} + \frac{0.3 \ (\kappa_{95}-1.77)}{\frac{1.77}{\kappa_{95}}}
$$

The elongation and the triangularity of the 95% flux surface is calculated as follows, based on the 1989 ITER guidelines [^1]:

$$
\kappa = 1.12 \ \kappa_{95}
$$

$$
\delta_{95} = \delta / 1.5
$$

---------------------------------------------------------------------
- `i_plasma_geometry = 11` -- The elongation is calculated directly dependant on the aspect ratio for spherical tokamak aspect ratios.[^4]

    $$
    \kappa = 0.95 \left(1.9+\frac{1.9}{A^{1.4}}\right)
    $$

  The elongation and triangularity of the 95% flux surface are calculated as follows, based on the 1989 ITER guidelines [^1]:

  $$
  \kappa_{95} = \kappa / 1.12
  $$
  $$
  \delta_{95} = \delta / 1.5
  $$

---------------------------------------------------------------------


### Plasma-Wall Gap

The region directly outside the last closed flux surface of the core plasma is
known as the scrape-off layer, and contains no structural material. Plasma
entering this region is not confined and is removed by the divertor. PROCESS
treats the scrape-off layer merely as a gap.

The plasma and first wall clearance can be calculated or input by setting the `i_plasma_wall_gap` switch.

- `i_plasma_wall_gap` == 0, then the inboard and outboard plasma wall gaps are set to be 10% of the plasma minor radius ($a$).
- `i_plasma_wall_gap` == 1, then the inboard and outboard plasma wall gaps are set by defining `dr_fw_plasma_gap_inboard` and `scraplo` respectively.


------------------

### Geometrical properties | `plasma_angles_arcs()`

This method calculates the radius and half angle of the arc describing the inboard and outboard plasma surfaces. This calculation is appropriate for plasmas with a separatrix. It requires the plasma minor radius ($a$,     `rminor`), elongation ($\kappa$, `kappa`) and triangularity ($\delta$, `triang`).

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `kappa`, $\kappa$      | Plasma separatrix elongation         |
| `triang`, $\delta$      | Plasma separatrix triangularity      |

| Output Variable | Description                          |
|----------|--------------------------------------|
| `xi`       | Radius of arc describing inboard surface [$\text{m}$] |
| `thetai`   | Half-angle of arc describing inboard surface |
| `xo`       | Radius of arc describing outboard surface [$\text{m}$] |
| `thetao`   | Half-angle of arc describing outboard surface |

<figure markdown>
![Geometrical properties](../images/plasma_geometry.png){ width="100%"}
<figcaption>Figure 1: Geometrical dimensions used to determine plasma shape parameters</figcaption>
</figure>

$$
 x_i^2 = a^2\kappa^2 + (ay + a +\delta a)^2 \\
= a^2\kappa^2 + a^2L^2, \ \ \ \text{where} \ \ L= 1+\delta+y
$$

$$
x_i = (a+\delta a +ay)+a-\delta a \\
= aL+a(1-\delta) \\
= a(L+T), \ \ \ \text{where}\ \ T=1-\delta
$$

$$
\therefore a^2\kappa^2 + a^2L^2 = a^2(L+T)^2 \\
\kappa^2+L^2 = L^2 +2LT +T^2 \\
\therefore L = \frac{\kappa^2-T^2}{2T}
$$

$$
\fbox{$ \mathtt{thetai} = \theta_i = \arctan \left({\frac{\kappa}{L}}\right) \\
\mathtt{xi} = x_i = a(L+1-\delta)$}
$$

Similarly for the inboard side:

$$
 x_o^2 = a^2\kappa^2 + (aw + a -\delta a)^2 \\
= a^2\kappa^2 + a^2M^2, \ \ \ \text{where} \ \ M= 1-\delta+w
$$

$$
x_o = aM +\delta a + a \\
= aM+a(1+\delta) \\
= a(M+N), \ \ \ \text{where}\ \ N=1+\delta
$$

$$
\therefore a^2\kappa^2 + a^2M^2 = a^2(M+N)^2 \\
\kappa^2+M^2 = M^2 +2MN +N^2 \\
\therefore M = \frac{\kappa^2-N^2}{2N}
$$

$$
\fbox{$\mathtt{thetao}= \theta_o = \arctan \left({\frac{\kappa}{M}}\right) \\
\mathtt{xo}=x_o = a(M+1+\delta)$}
$$


------------------

### Surface Area | `plasma_surface_area()`
This function finds the plasma surface area, using the
revolution of two intersecting arcs around the device centreline.
This calculation is appropriate for plasmas with a separatrix.
It uses the geometrical properties derived in `plasma_angles_arcs()`

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rmajor`, $R$        | Plasma major radius [$\text{m}$]              |
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `xi`       | Radius of arc describing inboard surface [$\text{m}$] |
| `thetai`   | Half-angle of arc describing inboard surface |
| `xo`       | Radius of arc describing outboard surface [$\text{m}$] |
| `thetao`   | Half-angle of arc describing outboard surface |


| Output Variable | Description                          |
|----------|--------------------------------------|
| `xsi`       | Inboard surface area [$\text{m}^2$] |
| `xso`       | Outboard surface area [$\text{m}^2$] |

<figure markdown>
![Outboard surface area](../images/plasma_inboard_surface_area.png){ width="80%"}
<figcaption>Figure 2: Inboard surface area calculation parameters</figcaption>
</figure>

$$
\mathtt{rc}  = R_0-a + \mathtt{xi} \\ 
\mathtt{xsi} = 4\pi \times \mathtt{xi} (\mathtt{rc} \times \mathtt{thetai} -(\mathtt{xi} \times \sin({\mathtt{thetai}))})
$$

For the outboard side:
<figure markdown>
![Outboard surface area](../images/plasma_outboard_surface_area.png){ width="80%"}
<figcaption>Figure 3: Outboard surface area calculation parameters</figcaption>
</figure>
$$
\mathtt{rc}  = R_0+a - \mathtt{xo} \\ 
\mathtt{xso} = 4\pi \times \mathtt{xo} (\mathtt{rc} \times \mathtt{thetao}+ (\mathtt{xo}\times \sin({\mathtt{thetao}))})
$$

------------------


### Poloidal perimeter | `plasma_poloidal_perimeter()`
The poloidal plasma perimtere length `len_plasma_poloidal` is calculated as follows:

| Input Variable | Description                          |
|----------|--------------------------------------|
| `xi`       | Radius of arc describing inboard surface [$\text{m}$] |
| `thetai`   | Half-angle of arc describing inboard surface |
| `xo`       | Radius of arc describing outboard surface [$\text{m}$] |
| `thetao`   | Half-angle of arc describing outboard surface |


| Output Variable | Description                          |
|----------|--------------------------------------|
| `len_plasma_poloidal`       | Plasma poloidal perimeter [$\text{m}$] |

$$
\mathtt{len\_plasma\_poloidal} = 2.0 \times (\mathtt{xo} \times \mathtt{thetao} + \mathtt{xi} \times \mathtt{thetai})
$$

------------------

### Plasma Volume | `plasma_volume()`

The plasma volume is calculated using the `xvol` method with the inputted $R_0$ & $a$ along with the outputs of `plasma_angles_arcs()`.
The `f_vol_plasma` iteration variable can be used to scale this output

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rmajor`, $R$        | Plasma major radius [$\text{m}$]              |
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `xi`       | Radius of arc describing inboard surface [$\text{m}$] |
| `thetai`   | Half-angle of arc describing inboard surface |
| `xo`       | Radius of arc describing outboard surface [$\text{m}$] |
| `thetao`   | Half-angle of arc describing outboard surface |


| Output Variable | Description                          |
|----------|--------------------------------------|
| `xvol`       | Plasma volume [$\text{m}^3$] |

Calculate the volume for the inboard plasma side:

$$
\mathtt{rc} = R_0 - a + \mathtt{xi} \\
\mathtt{vin} = (2\pi \times \mathtt{xi}) \times(\mathtt{rc}^2 \times \sin{(\mathtt{thetai})} - (\mathtt{rc}\times \mathtt{xi} \times \mathtt{thetai}) \\
-(0.5\times\mathtt{rc} \mathtt{xi} \times \sin{(2\times\mathtt{thetai})})+(\mathtt{xi}^2\times \sin{(\mathtt{thetai})}) \\
-\left(\frac{1}{3}\times \mathtt{xi}^2 \times (\sin{(\mathtt{thetai})})^3\right)
$$

Calculate the volume for the outboard plasma side:

$$
\mathtt{rc} = R_0 + a - \mathtt{xo} \\
\mathtt{vout} = (2\pi \times \mathtt{xo}) \times(\mathtt{rc}^2 \times \sin{(\mathtt{thetao})} + (\mathtt{rc}\times \mathtt{xo} \times \mathtt{thetao}) \\
+(0.5\times\mathtt{rc} \times\mathtt{xo} \times \sin{(2\times\mathtt{thetao})})+(\mathtt{xo}^2\times \sin{(\mathtt{thetao})}) \\
-\left(\frac{1}{3}\times \mathtt{xo}^2 \times (\sin{(\mathtt{thetao})})^3\right)
$$

The volume is then the difference between the two volumes

$$
\mathtt{xvol} = \mathtt{vout}-\mathtt{vin}
$$

------------------

### Plasma cross-sectional area | `plasma_cross_section()`

This function finds the plasma cross-sectional area, using the
revolution of two intersecting arcs around the device centreline.
This calculation is appropriate for plasmas with a separatrix.

| Input Variable | Description                          |
|----------|--------------------------------------|
| `xi`       | Radius of arc describing inboard surface [$\text{m}$] |
| `thetai`   | Half-angle of arc describing inboard surface |
| `xo`       | Radius of arc describing outboard surface [$\text{m}$] |
| `thetao`   | Half-angle of arc describing outboard surface |


| Output Variable | Description                          |
|----------|--------------------------------------|
| `xsecta`       | Plasma cross-sectional area [$\text{m}^2$] |


$$
\mathtt{xsecta} = \mathtt{xo}^2 \times (
            \mathtt{thetao} - \cos{(\mathtt{thetao})} \times \sin({\mathtt{thetao}})
        ) \\
        + \mathtt{xi}^2 \times (\mathtt{thetai} - \cos{(\mathtt{thetai})} \times \sin{(\mathtt{thetai}))}
$$

------------------

### Sauter geometry | `sauter_geometry()`

This function calculates the plasma volumes, areas, perimeter and shapes based on the Sauter formulation[^7].

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `rmajor`, $R$        | Plasma major radius [$\text{m}$]              |
| `kappa`, $\kappa$      | Plasma separatrix elongation         |
| `triang`, $\delta$      | Plasma separatrix triangularity      |
| `plasma_square`, $\xi$      | Plasma squareness    |


| Output Variable | Description                          |
|----------|--------------------------------------|
| `len_plasma_poloidal`       | Plasma Poloidal perimeter length [$\text{m}$] |
| `a_plasma_surface`       | Plasma surface area [$\text{m}^2$] |
| `a_plasma_poloidal`       | Plasma cross-sectional area [$\text{m}^2$] |
| `vol_plasma`       | Plasma volume [$\text{m}^3$] |

$$
\mathtt{w07} = \mathtt{plasma\_square} + 1
$$

$$
\epsilon = \frac{a}{R}
$$

Poloidal perimeter (named $L_p$ in Sauter)

$$
\mathtt{len\_plasma\_poloidal} = 2.0\pi a (1 + 0.55 (\kappa - 1))(1 + 0.08 \delta^2)(1 + 0.2 (\mathtt{w07} - 1))
$$

Surface area (named $A_p$ in Sauter)

$$
\mathtt{a\_plasma\_surface} = 2.0\pi R (1 - 0.32 \delta \epsilon) \mathtt{len\_plasma\_poloidal}
$$ 

Cross-section area (named $S_{\phi}$ in Sauter)

$$
\mathtt{a\_plasma\_poloidal} = \pi a^2 \kappa (1 + 0.52 (\mathtt{w07} - 1))
$$

Volume  (named $V$ in Sauter)

$$
\mathtt{vol\_plasma} = 2.0\pi R (1 - 0.25 \delta \epsilon) \mathtt{a\_plasma\_poloidal}
$$

------------------

## Key Constraints

### Conducting shell radius

This constraint equation can be activated by stating `icc = 23` in the input file.

In principle, the inner surface of the outboard shield could be used
as the location of a conducting shell to mitigate the vertical
displacement growth rate of plasmas with significant elongation [^8]. 

The maximum permissible distance $r_{\text{shell, max}}$ of this shell from the geometric 
centre of the plasma may be set using input parameter `f_r_conducting_wall`, such that 
$r_{\text{shell, max}} =$ `f_r_conducting_wall*rminor`.

The scaling value `fcwr` can be varied also.

---------------------

## Legacy claculations

### STAR Code plasma surface area | `surfa()` 

This function finds the plasma surface area, using the
revolution of two intersecting arcs around the device centreline.
This calculation is appropriate for plasmas with a separatrix.
It was the original method in PROCESS[^6].


| Input Variable | Description                          |
|----------|--------------------------------------|
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `rmajor`, $R$        | Plasma major radius [$\text{m}$]              |
| `kappa`, $\kappa$      | Plasma separatrix elongation         |
| `triang`, $\delta$      | Plasma separatrix triangularity      |

| Output Variable | Description                          |
|----------|--------------------------------------|
| `sa`       | Plasma total surface area [$\text{m}^2$] |
| `so`   | Plasma outboard surface area [$\text{m}^2$] |

$$
\mathtt{radco} = a \frac{(1.0 + (\kappa^2 + \delta^2 - 1.0)}{(2.0 \times (1.0 + \delta))}
$$

$$
\mathtt{b} = \kappa \times a
$$

$$
\mathtt{thto} = \arcsin{(\mathtt{b}/\mathtt{radco})}
$$

$$
\mathtt{so} = 4.0\pi \times \mathtt{radco} \times ((R + a - \mathtt{radco}) \times \mathtt{thto} + \mathtt{b})
$$

Inboard side


$$
\mathtt{radci} = a \frac{(1.0 + (\kappa^2 + \delta^2 - 1.0)}{(2.0 \times (1.0 - \delta))}
$$

$$
\mathtt{b} = \kappa \times a
$$

$$
\mathtt{thti} = \arcsin{(\mathtt{b}/\mathtt{radci})}
$$

$$
\mathtt{si} = 4.0\pi \times \mathtt{radci} \times ((R - a + \mathtt{radci}) \times \mathtt{thti} - \mathtt{b})
$$

$$
\mathtt{sa} = \mathtt{so} + \mathtt{si}
$$

-------------------------

### Plasma poloidal perimeter calculation | `perim()`

This function finds the plasma poloidal perimeter, using the
revolution of two intersecting arcs around the device centreline.
This calculation is appropriate for plasmas with a separatrix.

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `kappa`, $\kappa$      | Plasma separatrix elongation         |
| `triang`, $\delta$      | Plasma separatrix triangularity      |

| Output Variable | Description                          |
|----------|--------------------------------------|
| `perim`       | Plasma poloidal perimeter length [$\text{m}$] |

Inboard arc

$$
\mathtt{denomi} = \frac{(\delta^2 + \kappa^2 - 1.0)}{(2.0 \times (1.0 - \delta))}+ \delta
$$

$$
\mathtt{thetai} = \arctan\left(\frac{\kappa}{\mathtt{denomi}}\right)
$$

$$
\mathtt{xli} = a \times (\mathtt{denomi} + 1.0 - \delta)
$$

Outboard arc

$$
\mathtt{denomo} = \frac{(\delta^2 + \kappa^2 - 1.0)}{(2.0 \times (1.0 + \delta))} -\delta \\
$$

$$
\mathtt{thetao} = \arctan\left(\frac{\kappa}{\mathtt{denomo}}\right) \\
$$

$$
\mathtt{xlo} = a \times (\mathtt{denomo} + 1.0 + \delta) \\
$$

$$
\mathtt{perim} = 2.0 \times (\mathtt{xlo} \times \mathtt{thetao} + \mathtt{xli} \times \mathtt{thetai})
$$

-------------------------

### Plasma volume calculation | `fvol()`

 This function finds the plasma volume, using the
revolution of two intersecting arcs around the device centreline.
This calculation is appropriate for plasmas with a separatrix.

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rmajor`, $R$        | Plasma major radius [$\text{m}$]              |
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `kappa`, $\kappa$      | Plasma separatrix elongation         |
| `triang`, $\delta$      | Plasma separatrix triangularity      |

| Output Variable | Description                          |
|----------|--------------------------------------|
| `fvol`       | Plasma volume [$\text{m}^3$] |


$$
\mathtt{zn} = \kappa \times a
$$

$$
\mathtt{c1} = \frac{{(R + a)^2 - (R - \delta \times a)^2 - \mathtt{zn}^2}}{{2 \times (1 + \delta) \times a}}
$$

$$
\mathtt{rc1} = R + a - \mathtt{c1}
$$

$$
\mathtt{{vout}} = -\frac{2}{3} \pi \times \mathtt{zn}^3 + 2 \pi \times \mathtt{zn} \times (\mathtt{c1}^2 + \mathtt{rc1}^2) \\
+ 2 \pi \times \mathtt{c1} \times \left(\mathtt{zn} \times \sqrt{\mathtt{rc1}^2 - \mathtt{zn}^2} + \mathtt{rc1}^2 \times \arcsin{\left(\frac{\mathtt{zn}}{\mathtt{rc1}}\right)}\right)
$$

$$
\mathtt{c2} = \frac{-((R - a)^2) + (R - \delta \times a)^2 + \mathtt{zn}^2)}{(2 \times (1 - \delta) \times a)}
$$

$$
\mathtt{rc2} = \mathtt{c2} - R + a
$$

$$
\mathtt{vin} = -\frac{2}{3} \pi \times \mathtt{zn}^3 + 2 \pi \times \mathtt{zn} \times (\mathtt{rc2}^2 + \mathtt{c2}^2) \\
- 2 \pi \times \mathtt{c2} \times \left(\mathtt{zn} \times \sqrt{\mathtt{rc2}^2 - \mathtt{zn}^2} + \mathtt{rc2}^2 \times \arcsin{\left(\frac{\mathtt{zn}}{\mathtt{rc2}}\right)}\right)
$$

$$
\mathtt{fvol} = \mathtt{vout} - \mathtt{vin}
$$

-------------------------

### Plasma cross sectional area calculation | `xsecto()`

This function finds the plasma cross-sectional area, using the
revolution of two intersecting arcs around the device centreline.
This calculation is appropriate for plasmas with a separatrix.

| Input Variable | Description                          |
|----------|--------------------------------------|
| `rminor`, $a$        | Plasma minor radius [$\text{m}$]              |
| `kappa`, $\kappa$      | Plasma separatrix elongation         |
| `triang`, $\delta$      | Plasma separatrix triangularity      |

| Output Variable | Description                          |
|----------|--------------------------------------|
| `xsect0`       | Plasma cross-sectional area [$\text{m}^2$] |

$$
\mathtt{denomi} = \frac{(\delta^2 + \kappa^2 - 1.0)}{(2.0 \times (1.0 - \delta))}+ \delta
$$

$$
\mathtt{thetai} = \arctan\left(\frac{\kappa}{\mathtt{denomi}}\right)
$$

$$
\mathtt{xli} = a \times (\mathtt{denomi} + 1.0 - \delta)
$$

$$
\mathtt{cti} = \cos(\mathtt{thetai})
$$

$$
\mathtt{sti} = \sin(\mathtt{thetai})
$$

$$
\mathtt{denomo} = \frac{(\delta^2 + \kappa^2 - 1.0)}{(2.0 \times (1.0 + \delta))}- \delta
$$

$$
\mathtt{thetao} = \arctan\left(\frac{\kappa}{\mathtt{denomo}}\right)
$$

$$
\mathtt{xlo} = a \times (\mathtt{denomo} + 1.0 + \delta)
$$

$$
\mathtt{cto} = \cos(\mathtt{thetao})
$$

$$
\mathtt{sto} = \sin(\mathtt{thetao})
$$

$$
\mathtt{xsect0} = \mathtt{xlo}^2 \times (\mathtt{thetao} - \mathtt{cto} \times \mathtt{sto}) + \mathtt{xli}^2 \times (\mathtt{thetai} - \mathtt{cti} \times \mathtt{sti})
$$


[^1]: N.A. Uckan and ITER Physics Group, *ITER Physics Design Guidelines: 1989*, 
ITER Documentation Series, No. 10, IAEA/ITER/DS/10 (1990)
[^2]: J.D. Galambos, *'STAR Code : Spherical Tokamak Analysis and Reactor Code'*,
Unpublished internal Oak Ridge document.
[^3]: H. Zohm et al, *'On the Physics Guidelines for a Tokamak DEMO'*,
FTP/3-3, Proc. IAEA Fusion Energy Conference, October 2012, San Diego
[^4]: Menard, J.E. & Brown, T. & El-Guebaly, L. & Boyer, M. & Canik, J. & Colling, Bethany & Raman, Roger & Wang, Z. & Zhai, Yunbo & Buxton, Peter & Covele, B. & D’Angelo, C. & Davis, Andrew & Gerhardt, S. & Gryaznevich, M. & Harb, Moataz & Hender, T.C. & Kaye, S. & Kingham, David & Woolley, R.. (2016). *Fusion nuclear science facilities and pilot plants based on the spherical tokamak.* Nuclear Fusion. 56. 106023. 10.1088/0029-5515/56/10/106023. 
[^6]: J D Galambos, *STAR Code : Spherical Tokamak Analysis and Reactor Code*,
unpublished internal Oak Ridge document
[^7]: O. Sauter, “Geometric formulas for system codes including the effect of negative triangularity,” Fusion Engineering and Design, vol. 112, pp. 633–645, Nov. 2016, doi: https://doi.org/10.1016/j.fusengdes.2016.04.033.
[^8]: Y. Sakamoto, 'Recent progress in vertical stability analysis in JA', Task meeting EU-JA #16, Fusion for Energy, Garching, 24--25 June 2014